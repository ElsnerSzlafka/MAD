<!DOCTYPE html>
<html>
  <head>
    <title>Problem MAD z restryktywnym wspolnym terminem zakonczenia</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>
    
<div id="nav">
    <nav class="navbar navbar-default navbar-static affix-top" role="navigation">
      
      <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Rozwiazanie:</a>
      </div>

     
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
        </ul>
        <ul class="nav navbar-nav navbar-right">
         
          <li><a href="index.html">Strona glowna</a></li>
          <li><a href="#">Dokumentacja</a></li>
     
            </ul>
          </li>
        </ul>
      </div>
    </div>
    </nav>
  </div>
<script type="text/javascript" src="../common.js"></script>
<script type="text/javascript">
function calculate() {
	var x = document.getElementById("inputs").value;
	var z=x;
	x=x.replace(' ','');
	var arr=x.split(',');
	var lcm=0;
	var flag=false;
	var total=0;
	for(var j=0;j<arr.length;j++){
		arr[j]=parseInt(arr[j]);
		total+=arr[j];
		
	}
	
	var mean=parseInt(total/arr.length); 
	mean=Math.round(mean*10000)/10000;
	var xm2=0;
	var srt='';
	var srt1='';
	var srt2='';
	for(var j=0;j<arr.length;j++){
		xm2+=Math.abs(arr[j]-mean);
		if(j==arr.length-1){
			srt+='|'+arr[j]+'-'+mean+'|';
			srt2+=Math.abs(arr[j]-mean);
		}else{
			srt+='|'+arr[j]+'-'+mean+'|+';
			srt2+=Math.abs(arr[j]-mean)+'+';
		}
	}
	var sd=xm2/(arr.length);
	var calc="";
	calc+="Czas trwania zadan =("+z+")\nIlosc zadan(N)="+arr.length+"\n";
	calc+="D(xm)= (x1+x2+x3...xN)/N \nD(xm)= "+total+"/"+arr.length+"\nD(xm)= "+mean+"\n-------------------------------------------\n";
	calc+="MAD=\n1/(N)*(|x1-xm|+|x2-xm|+..+|xN-xm|)\n\n=1/"+arr.length+"("+srt+")\n\n=1/"+(arr.length)+"("+srt2+"))\n\n="+sd;
	
	document.getElementById("res_area").style.visibility = "visible";
	document.getElementById("result1").value = arr.length;
	document.getElementById("result2").value = mean;
	document.getElementById("result3").value = sd;
	document.getElementById("result7").value = calc;
	document.getElementById("result9").value = arr;
}




</script>
  
  
  
  
    <section id="about" class="container">
      <div class="row">
        <div class="col-md-3">
         <div id="input">
          <h3>Wczytanie danych</h3>
          <table style="margin:0px; width:100%">
			<tr><td colspan="9" align="center" valign="top" id="title"><h2></h2></td></tr>

			<tr><td valign="top"><label><br />Podaj czasy trwania zadan: </label></td>
				<td><textarea id="inputs" cols="15" rows="3">2,4,3,6</textarea><br><label>( oddzielone przecinkami (,) ) </label><br /> <label id="error1" class="error"></label ></td></tr>
	<tr><td align="center"></td><td><input type="button" value="Oblicz" id="button" onClick="calculate()"></td><td></td></tr>
		
		</table>
		</div>
        </div>
		<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
        <div class="col-md-3">
         <div id="res_area">
          <h3>Wynik:</h3>
          <table>
			<tr><td colspan="2"><font id="res" class="output"></font></td></tr>
			<tr><td><label>Ilosc zadan:</label></td><td><input type="text" disabled="disabled" class="result" id="result1" /> <label id="unit"></label></td></tr>

			<tr><td><label>D:</label></td><td><input type="text" disabled="disabled" class="result" id="result2" /> <label id="unit"></label></td></tr>
			<tr><td><label>MAD:</label></td><td><input type="text" disabled="disabled" class="result" id="result3" /> <label id="unit"></label></td></tr>
			</table>
			</div>
        </div>
        <div class="col-md-3">
          <div id="res_area">
          <h3>Obliczenia:</h3>
          <table>
		  <tr><td colspan="2"><label></label><br /><textarea id="result7" rows="15" cols="60" class="span12"></textarea> <label id="unit"></label></td></tr>
		</table>
        </div>
        </div>
    </section>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
google.setOnLoadCallback(drawVisualization);

function drawVisualization() {
var x = document.getElementById("inputs").value;
x=x.replace(' ','');
var arr=x.split(',');
var total=0;
	for(var j=0;j<arr.length;j++){
		arr[j]=parseInt(arr[j]);
		total+=arr[j];
		
	}

var mean=parseInt(total/arr.length);

var arr1= arr;
var arr2= arr;
var z=arr;
var Combined = new Array();
Combined[0] = ['z','zadanie','D'];
for (var i = 0; i < z.length; i++){
  Combined[i + 1] = [arr1[i],z[i],arr2[i]];
}
var table = google.visualization.arrayToDataTable(Combined, false);



  var options = {
    title : 'Podzial zadan',
    vAxis: {title: "Czas"},
    hAxis: {title: "Zadania"},
    seriesType: "bars",
    
  };

  var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));
  chart.draw(table, options);
}
    </script>
    <section id="about3">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
		  <input type="button" value="Odswiez wykres" id="button1" onClick="drawVisualization()"></center>
            <div id="chart_div" style="width: 1000px; height: 600px;"></div>
          </div>
          <div class="col-md-6 feature">
            <div class="row">
              
              <div class="col-md-10">
               
          
          </div>
        </div>
      </div>
    </section>
<footer id="copyright">
    <p>Wykonal: Sebastian Szlafka, Monika Elsner</p>
  </footer>

   
  </body>
</html>